<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>新闻发布</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            list-style: none;
        }

        #box {
            width: 700px;
            height: 500px;
            margin: auto;
            border: 1px solid #ccc;
        }

        #box h2 {
            margin-left: 150px;
        }

        #box .content {
            width: 619px;
            height: 300px;
            border: 1px solid #ccc;
            border-radius: 20px;
            margin: auto;
        }

        #box .content h4 {
            display: block;
            height: 30px;
            width: 600px;
            line-height: 18px;
            font-size: 18px;
            margin-left: 10px;
            border-bottom: 1px dashed #ccc;
        }

        #box .content #con {
            margin-top: 20px;
            margin-left: 10px;
            color: red;
            display: flex;
            flex-wrap: wrap;
        }

        #box .content #con li {
            width: 588px;
            margin-left: 10px;
        }

        #box .input {
            width: 600px;
            height: 49px;
            border: 1px solid #ccc;
            display: flex;
            margin: auto;
            margin-top: 50px;
        }

        #box .input #text1 {
            width: 480px;
            height: 100%;
            font-size: 20px;
            padding-left: 5px;
        }

        #box .input #btn {
            height: 53px;
            width: 119px;
        }
    </style>
</head>

<body>
    <div id="box">
        <h2>留言板-显示最新的10条消息</h2>
        <div class="content">
            <h4>最新消息</h4>
            <ul id="con">
                <!-- <li>习近平：老百姓的幸福就是共产党的事业</li> -->
            </ul>
        </div>
        <div class="input">
            <input type="text" id="text1" placeholder="最新消息显示在顶部">
            <input type="button" value="添加" id="btn">
        </div>
    </div>
</body>
<script>
    (function () {
        var btn = document.getElementById('btn');
        var text1 = document.getElementById('text1');
        var con = document.getElementById('con');
        //创建一个新数组
        var arr = ['创国际化营商环境 海信商城 7天无理由退货', '南方网广州频道作为南方网的子频道', '习近平：老百姓的幸福就是共产党的事业'];

        //数据渲染，封装函数方便调用
        function news() {
            var html = arr.map(function (item, index) {
                return `<li>${index+1}.${item}</li>`; //渲染数据到页面
            })
            con.innerHTML = html;
        }
        news();

        function addNews() {
            var num = text1.value;
            if (num) {
                arr.unshift(num);
                //判断如果内容大于多少时自动把最后一条删掉
                if (arr.length > 5) { //数组长度大于5就删掉最后一行
                    arr.pop();
                }
                news(); //应用数据渲染函数
                text1.value = ''; //清空输入框内容
            } else {
                alert('请输入数据');
            }
        }
        btn.onclick = function () {
            addNews();
        }
    })();
</script>

</html>