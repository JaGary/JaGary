<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="ie=edge" />
  <title>taobao</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      list-style: none;
    }

    #box {
      width: 1300px;
      height: 820px;
      display: flex;
      flex-wrap: wrap;
      margin-top: 10px;
    }

    #box .li1 {
      width: 300px;
      height: 400px;
      border: 1px solid #ccc;
      margin-left: 10px;
      cursor: pointer;
    }

    #box .li1:hover {
      border: 1px solid #ff6700;
    }

    li .big-img {
      width: 280px;
      height: 200px;
      position: relative;
    }

    li .img1 {
      display: block;
      width: 280px;
      height: 170px;
      padding: 0px 10px;
      margin-top: 10px;
    }

    li .big-img .ppq {
      display: block;
      width: 100%;
      height: 30px;
      position: absolute;
      background: orangered;
      opacity: 0.3;
      bottom: 0px;
      left: 10px;
      transition: all 0.5s;
      text-align: center;
      line-height: 30px;
    }

    .big-img:hover .ppq {
      bottom: 30px;
      color: #ffffff;
    }

    li .list {
      width: 100%;
      display: flex;
      margin-left: 20px;
    }

    li .list img {
      display: block;
      width: 50px;
      height: 50px;
      padding: 5px;
      cursor: pointer;
    }

    .active {
      border: 2px solid sandybrown;
    }

    .li1 .content h4 {
      color: #959595;
      font-size: 16px;
    }
    .li1 .content h4:hover{
      color: black;
      text-decoration: underline;
    }
    .li1 .content .price {
      color: red;
      font-size: 16px;
      display: block;
      float: left;
      padding: 10px 10px;
    }

    .li1 .content h4 {
      margin-bottom: 20px;
      margin-left: 20px;
      margin-top: 15px;
    }

    .li1 .content p {
      color: #959595;
      font-size: 11px;
      padding: 0px 10px;
    }

    .li1 .content .p1 {
      float: left;
      margin-top: 5px;
    }

    .li1 .content .p2 {
      float: right;
      margin-top: 5px;
    }

    .li1 .content .color {
      float: right;
      margin-top: 10px;
    }

    /* 给价格添加个￥符号 */
    .price:before {
      content: "￥";
    }
  </style>
</head>
<script src="../common.js"></script>

<body>
  <div id="goodslist">
    <ul id="box">
      <!-- <li class="li1">
                <div class="img">
                    <div class="big-img">
                        <img class="img1" src="../images/1.webp" ; alt="">
                        <span class="ppq">找相似</span>
                    </div>
                    <div class="list">
                        <img id="active" src="../images/2.webp" ; alt="">
                        <img src="../images/1.webp" alt="">
                        <img src="../images/3.webp" alt="">
                    </div>
                </div>
                <div class="content">
                    <h4 class="title">领带男正装商务韩版男士手打</h4>
                    <p class="p1">评价：<span>800</span></p>
                    <p class="p2">收藏：<span>200</span></p>
                    <br>
                    <span class="price"></span>
                    <p class="color">月销：<span>2000</span></p>
                </div>
            </li> -->
    </ul>
  </div>
</body>
<script>
  (function () {
    //找节点

    var box1 = document.getElementById("box");

    var data = [{
        id: "001",
        imgurl: ["../images/3.webp", "../images/2.webp", "../images/1.webp"],
        title: "领带男正装商务韩版男士手打质黑色长裙裙",
        price: 220.00,
        pingjia: 800,
        shoucang: 1500,
        xiaoliang: 2000,
        size: "S(165/82A)",
        size1: "M(170/86A)",
        size2: "X(175/88A)",
        goodl:89.56,
        kucun:200,
      },
      {
        id: "002",
        imgurl: ["../images/2.webp", "../images/2.webp", "../images/1.webp"],
        title: "显瘦真丝连衣裙桑蚕丝长裙裙质黑色长裙裙",
        price: 440.00,
        pingjia: 1050,
        shoucang: 650,
        xiaoliang: 800,
        size: "S(165/02A)",
        size1: "M(170/b6A)",
        size2: "X(175/8cA)",
        goodl:95.56,
        kucun:100,
      },
      {
        id: "003",
        imgurl: ["../images/1.webp", "../images/2.webp", "../images/1.webp"],
        title: "2019新款夏质黑色长裙裙季女装大码裙裙",
        price: 1020.00,
        pingjia: 3000,
        shoucang: 790,
        xiaoliang: 1001,
        size: "S(165/s2A)",
        size1: "M(170/8fA)",
        size2: "X(175/p80)",
        goodl:92.56,
        kucun:250,
      },
      {
        id: "004",
        imgurl: ["../images/3.webp", "../images/2.webp", "../images/1.webp"],
        title: "领带男正装商务韩版男士手打质黑色长裙裙",
        price: 800.00,
        pingjia: 1800,
        shoucang: 918,
        xiaoliang: 1090,
        size: "S(165/80B)",
        size1: "M(170/85A)",
        size2: "X(180/90A)",
        goodl:97.56,
        kucun:20,
      },
      {
        id: "005",
        imgurl: ["../images/2.webp", "../images/2.webp", "../images/1.webp"],
        title: "质黑色长裙裙显码气质黑色长裙裙",
        price: 720.00,
        pingjia: 1000,
        shoucang: 800,
        xiaoliang: 1000,
        size: "S(165/75B)",
        size1: "M(170/80A)",
        size2: "X(175/65B)",
        goodl:94.27,
        kucun:150,
      },
      {
        id: "006",
        imgurl: ["../images/3.webp", "../images/2.webp", "../images/1.webp"],
        title: "质黑色长裙裙领装商务韩质黑色长裙裙",
        price: 120.00,
        pingjia: 809,
        shoucang: 1108,
        xiaoliang: 1800,
        size: "S(160/82A)",
        size1: "M(165/86A)",
        size2: "X(170/82A)",
        goodl:98.10,
        kucun:300,
      },
      {
        id: "007",
        imgurl: ["../images/2.webp", "../images/2.webp", "../images/1.webp"],
        title: "显瘦真丝连衣裙桑蚕气质黑色长裙裙",
        price: 220.00,
        pingjia: 2400,
        shoucang: 1005,
        xiaoliang: 2000,
        size: "S(165/82A)",
        size1: "M(170/86A)",
        size2: "X(175/88A)",
        goodl:99.01,
        kucun:180,
      },
      {
        id: "008",
        imgurl: ["../images/1.webp", "../images/2.webp", "../images/1.webp"],
        title: "显瘦真丝连衣裙桑蚕丝大牌2019新裙",
        price: 999.00,
        pingjia: 890,
        shoucang: 1000,
        xiaoliang: 1008,
        size: "S(165/65A)",
        size1: "M(170/80A)",
        size2: "X(175/75A)",
        goodl:90.21,
        kucun:120,
      }
    ];

    var html = "";
    for (var i in data) {
      var str = ""; //拼接小图字符串
      for (var j in data[i].imgurl) {
        str += `<img class="aaa" src="${data[i].imgurl[j]}" alt="">`;
      }

      html += `<li class="li1 ">
                <div data-guid="001">
                    <div class="big-img">
                        <img class="img1" src="${data[i].imgurl[0]}" ; alt="">
                        <span class="ppq">找相似</span>
                    </div>
                    <div class="list">
                        ${str}
                    </div>
                </div>
                <div class="content">
                    <h4 class="title">${data[i].title}</h4>
                    <p class="p1">评价：<span>${data[i].pingjia}</span></p>
                    <p class="p2">收藏：<span>${data[i].shoucang}</span></p>
                    <br>
                    <span class="price">${data[i].price}</span>
                    <p class="color">月销：<span>${data[i].xiaoliang}</span></p>
                </div>
            </li>`;
    }
    // console.log(html);
    box1.innerHTML = html;
    //小图切换大图
    var alis = box1.getElementsByTagName("li");
    console.log(alis); //找到li节点
    var list = box1.getElementsByClassName("list"); //img节点
    //利用循环给小图片的第一个子元素高亮效果
    for (i = 0; i < list.length; i++) {
      list[i].children[0].className = "aaa active";
    }

    var small = box.getElementsByClassName("aaa");
    for (i = 0; i < small.length; i++) {
      small[i].onclick = function () {
        //从父元素的兄弟元素找出他的孩子元素
        //查找父节点
        // console.log(this.parentNode);//查找父节点
        // console.log(this.parentNode.previousElementSibling);//上一个兄弟节点
        // console.log(this.parentNode.previousElementSibling.children[0]);//孩子节点
        this.parentNode.previousElementSibling.children[0].src = this.src;
        //利用循环清空
        for (i = 0; i < this.parentNode.children.length; i++) {
          console.log(this.parentNode);
          this.parentNode.children[i].className = ""; //清空父元素的孩子节点的class名
        }
        this.className = "active";
      };
    }

    //点击进入详情页效果
    for (var i = 0; i < alis.length; i++) {
      alis[i].index = i;
      alis[i].onclick = function () {
        var str = objTostr(data[this.index]);
        window.open("01.详情页.html?" + str);
      };
    }
  })();
</script>

</html>