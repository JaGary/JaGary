<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>验证码：大小写字母和数字的组合，长度为4</title>
    <link rel="stylesheet" href="../css/1.css" id="skin">
    <style>
        #box {
            width: 80px;
            height: 30px;
            
            margin-top: 10px;
            margin-bottom: 10px;
        }

        #box span {
            font-size: 20px;
            margin-left: 6px;
        }

        #box span:nth-child(1) {
            color: blue;
            font-style: italic;
        }

        #box span:nth-child(2) {
            color: purple;
            font-style: italic;
        }
        #box span:nth-child(3) {
        color: yellow;
        font-style: italic;
        }
        #box span:nth-child(4) {
        color: red;
        font-style: normal;
        }
    </style>
</head>

<body>
    <h1>验证码：大小写字母和数字的组合，长度为4</h1>
    请输入验证码：<input type="text" id="num">
    <div id="box">
        <!-- <span>1</span>
        <span>2</span>
        <span>3</span>
        <span>4</span> -->
    </div>
    <input type="button" id="btn" value="提交">
    <span id="inform"></span>
</body>
<script>
    (function () {
        var num = document.getElementById('num');
        var box = document.getElementById('box');
        var btn = document.getElementById('btn');
        var inform = document.getElementById('inform');

        function checkCode(n) {
            var str = 'zxcvbnmlkjhgfdsaqwertyuiopZXCVBNMLKJHGFDSAQWERTYUIOP1234567890';
            var html = '';
            for (i = 0; i < n; i++) {
                //取数
                var sum = parseInt(Math.random() * str.length); //0-str.length-1 
                //利用下标取数 
                var num = str[sum];
                html += num;
            }
            return html; //
        }
        //取四个数
        var num2 = checkCode(4);
        console.log(num2);
        box.innerHTML =
            `<span>${num2[0]}</span><span>${num2[1]}</span><span>${num2[2]}</span><span>${num2[3]}</span>` //打印四位随机数到body
        // div = '<span></span><span></span><span></span>';
        box.onclick = function () { //点击id=“box” ,生成随机四位数
            var num2 = checkCode(4);
            //拼接span标签
            box.innerHTML =
                `<span>${num2[0]}</span><span>${num2[1]}</span><span>${num2[2]}</span><span>${num2[3]}</span>`;
            skin.href = '../css/2.css';
        }
        //点击事件
        //验证验证码是否正确
        btn.onclick = function () {
            var val1 = num.value;
            var val2 = num2;
            console.log(val2);
            if (val1 == val2) {
                inform.innerHTML = '验证通过';
                inform.style.color = '#58bc58';
            } else {
                inform.innerHTML = '验证码不正确';
                inform.style.color = 'red';
            }

        }
    })();
</script>

</html>