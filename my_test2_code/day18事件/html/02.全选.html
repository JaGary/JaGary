<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>全选和全不选</title>
</head>

<body>
    <table id="dataList">
        <caption>爱好</caption>
        <thead>
            <th><input type="checkbox" name="all" id="all">全选</th>
            <th><input type="checkbox" name="fx" id="fx">反选</th>
        </thead>
        <tbody id="tbody">
            <tr>
                <td><input type="checkbox" name="hobby"></td>
                <td>篮球</td>
            </tr>
            <tr>
                <td><input type="checkbox" name="hobby"></td>
                <td>足球</td>
            </tr>
            <tr>
                <td><input type="checkbox" name="hobby"></td>
                <td>羽毛球</td>
            </tr>
            <tr>
                <td><input type="checkbox" name="hobby"></td>
                <td>爬山</td>
            </tr>
            <tr>
                <td><input type="checkbox" name="hobby"></td>
                <td>游泳</td>
            </tr>
            <tr>
                <td><input type="checkbox" name="hobby"></td>
                <td>购物</td>
            </tr>
            <tr>
                <td><input type="checkbox" name="hobby"></td>
                <td>看电影</td>
            </tr>
            <tr>
                <td><input type="checkbox" name="hobby"></td>
                <td>旅游</td>
            </tr>
            <tr>
                <td><input type="checkbox" name="hobby"></td>
                <td>音乐</td>
            </tr>
            <tr>
                <td><input type="checkbox" name="hobby"></td>
                <td>画画</td>
            </tr>
        </tbody>
    </table>
</body>
<script>
    (function () {
        //找节点
        var all = document.querySelector('#all');
        var fx = document.querySelector('#fx');
        var checkboxs = document.querySelectorAll('#tbody input');

        //事件
        //全选
        all.onclick = function () {
            //节点.checked----表示选中某个节点
            for (var i = 0; i < checkboxs.length; i++) {
                checkboxs[i].checked = all.checked;
            }
        }

        //反选
        // fx.onclick = function () {
        //     for (var i = 0; i < checkboxs.length; i++) {
        //         checkboxs[i].checked = !checkboxs[i].checked; //反选
        //     }
        //     all.checked = isCheck(); //控制全选框
        // }

        //点击复选框，控制全选
        function isCheck() {
            var num = 0; //选中个数
            var isok = false;
            for (var i = 0; i < checkboxs.length; i++) {
                if (checkboxs[i].checked) {
                    num++; //选中个数
                    console.log(num);
                }
            }
            if (num == checkboxs.length) { //当选中个数与总节点数相同就是全选
                //全选了
                isok = true;
            }
            return isok;
        }
        
        //选择所有复选框后控制全选
        for (var i = 0; i < checkboxs.length; i++) {
            checkboxs[i].onclick = function () {
                all.checked = isCheck();
            }
        }
    })();
</script>

</html>